---
title: äº‹ä»¶å¤„ç†
chapter: 02
section: 06
status: å·²å®Œæˆ
progress:
  started_at: 2025-12-05
  completed_at: 2025-12-05
  time_spent: "1.5h"
  mastery: ç†Ÿæ‚‰
tags:
  - learning/react/ch02
  - tech/react
  - tech/events
---

# äº‹ä»¶å¤„ç†

> äº‹ä»¶å¤„ç†æ˜¯è¿æ¥ç”¨æˆ·è¡Œä¸ºå’ŒçŠ¶æ€æ›´æ–°çš„æ¡¥æ¢ï¼Œè®©ç»„ä»¶çœŸæ­£ã€Œæ´»ã€èµ·æ¥ã€‚

---

## ğŸ“‹ å­¦ä¹ ç›®æ ‡

- [x] ç†è§£äº‹ä»¶å¤„ç†å‡½æ•°çš„ä¼ é€’æ–¹å¼
- [x] æŒæ¡äº‹ä»¶å¯¹è±¡è·å–è¾“å…¥å€¼
- [x] ç†è§£ React åˆæˆäº‹ä»¶æœºåˆ¶
- [x] ç†Ÿç»ƒä½¿ç”¨ preventDefault å’Œ stopPropagation
- [x] æŒæ¡äº‹ä»¶ä¼ å‚çš„æ–¹æ³•

---

## ğŸ“– çŸ¥è¯†ç‚¹

### 1. å‡½æ•°å¼•ç”¨ vs ç«‹å³è°ƒç”¨ â­

è¿™æ˜¯äº‹ä»¶å¤„ç†æœ€åŸºç¡€ä¹Ÿæœ€å®¹æ˜“å‡ºé”™çš„åœ°æ–¹ï¼š

```tsx
// âœ… ä¼ é€’å‡½æ•°å¼•ç”¨ â€”â€” React åœ¨ç‚¹å‡»æ—¶è°ƒç”¨
onClick={() => setCount(count + 1)}
onClick={handleClick}

// âŒ ç«‹å³è°ƒç”¨ â€”â€” æ¸²æŸ“æ—¶å°±æ‰§è¡Œï¼Œå¯èƒ½å¯¼è‡´æ— é™å¾ªç¯ï¼
onClick={setCount(count + 1)}
onClick={handleClick()}
```

**æœ¬è´¨**ï¼š`onClick` éœ€è¦çš„æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œä¸æ˜¯å‡½æ•°çš„æ‰§è¡Œç»“æœã€‚

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  onClick={å‡½æ•°}     â†’  ç­‰ç‚¹å‡»æ—¶å†è°ƒç”¨            â”‚
â”‚  onClick={å‡½æ•°()}   â†’  ç°åœ¨å°±è°ƒç”¨ï¼ŒæŠŠç»“æœä¼ ç»™å®ƒ   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

### 2. äº‹ä»¶å¤„ç†å‡½æ•°çš„ä¸¤ç§å†™æ³•

| åœºæ™¯ | æ¨èæ–¹å¼ | åŸå›  |
|------|----------|------|
| ç®€å•çš„ä¸€è¡Œé€»è¾‘ | å†…è” | ç®€æ´ï¼Œä¸€ç›®äº†ç„¶ |
| å¤šè¡Œé€»è¾‘ | å•ç‹¬å®šä¹‰ | å¯è¯»æ€§å¥½ |
| éœ€è¦å¤ç”¨ | å•ç‹¬å®šä¹‰ | é¿å…é‡å¤ä»£ç  |
| éœ€è¦è°ƒè¯• | å•ç‹¬å®šä¹‰ | å¯ä»¥åŠ æ–­ç‚¹ã€æ‰“æ—¥å¿— |

```tsx
// å†…è”ï¼šé€‚åˆç®€å•åœºæ™¯
<button onClick={() => setCount(c => c + 1)}>+1</button>

// å•ç‹¬å®šä¹‰ï¼šé€‚åˆå¤æ‚åœºæ™¯
const handleSubmit = () => {
  validate();
  save();
  notify();
};
<button onClick={handleSubmit}>æäº¤</button>
```

---

### 3. äº‹ä»¶å¯¹è±¡

é€šè¿‡äº‹ä»¶å¯¹è±¡è·å–ç”¨æˆ·è¾“å…¥ï¼š

```tsx
<input onChange={(event) => setName(event.target.value)} />
```

**`event.target` å¸¸ç”¨å±æ€§**ï¼š

| å±æ€§ | å«ä¹‰ | é€‚ç”¨å…ƒç´  |
|------|------|----------|
| `value` | è¾“å…¥æ¡†çš„å½“å‰å€¼ | input, textarea, select |
| `checked` | æ˜¯å¦å‹¾é€‰ | checkbox, radio |
| `name` | å…ƒç´ çš„ name å±æ€§ | æ‰€æœ‰è¡¨å•å…ƒç´  |
| `id` | å…ƒç´ çš„ id å±æ€§ | æ‰€æœ‰å…ƒç´  |

---

### 4. React åˆæˆäº‹ä»¶

React çš„äº‹ä»¶å¯¹è±¡æ˜¯**åˆæˆäº‹ä»¶ (SyntheticEvent)**ï¼Œä¸æ˜¯åŸç”Ÿäº‹ä»¶ï¼š

```tsx
const handleClick = (event) => {
  console.log(event);              // SyntheticBaseEvent
  console.log(event.nativeEvent);  // åŸç”Ÿ MouseEvent
};
```

**ä¸ºä»€ä¹ˆè¦åŒ…è£…ï¼Ÿ**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  æµè§ˆå™¨å·®å¼‚é—®é¢˜                                   â”‚
â”‚  Chrome: event.target     IE: event.srcElement  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  React åˆæˆäº‹ä»¶ï¼šç»Ÿä¸€çš„ API                       â”‚
â”‚  æ— è®ºä»€ä¹ˆæµè§ˆå™¨ï¼Œç”¨æ³•éƒ½ä¸€æ ·                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**æ—¥å¸¸ä½¿ç”¨**ï¼šåŸºæœ¬æ„ŸçŸ¥ä¸åˆ°å·®å¼‚ï¼Œå°±å½“æ™®é€šäº‹ä»¶å¯¹è±¡ç”¨ã€‚

---

### 5. å¸¸è§äº‹ä»¶ç±»å‹

React äº‹ä»¶å‘½åé‡‡ç”¨**å°é©¼å³°**ï¼ˆcamelCaseï¼‰ï¼š

| åŸç”Ÿ HTML | React | è§¦å‘æ—¶æœº |
|-----------|-------|----------|
| `onclick` | `onClick` | ç‚¹å‡» |
| `onchange` | `onChange` | å€¼æ”¹å˜ï¼ˆå®æ—¶è§¦å‘ï¼‰|
| `onsubmit` | `onSubmit` | è¡¨å•æäº¤ |
| `onkeydown` | `onKeyDown` | æŒ‰ä¸‹é”®ç›˜ |
| `onfocus` | `onFocus` | è·å¾—ç„¦ç‚¹ |
| `onblur` | `onBlur` | å¤±å»ç„¦ç‚¹ |

> âš ï¸ **æ³¨æ„**ï¼šReact çš„ `onChange` æ˜¯**å®æ—¶è§¦å‘**çš„ï¼Œä¸åŸç”Ÿ HTML ä¸åŒï¼

---

### 6. é˜»æ­¢é»˜è®¤è¡Œä¸º â­

è¡¨å•æäº¤ä¼šåˆ·æ–°é¡µé¢ï¼Œç”¨ `preventDefault()` é˜»æ­¢ï¼š

```tsx
const handleSubmit = (event) => {
  event.preventDefault();  // é˜»æ­¢é¡µé¢åˆ·æ–°
  console.log('æäº¤è¡¨å•');
  // è°ƒç”¨ API...
};

<form onSubmit={handleSubmit}>
  <input name="username" />
  <button type="submit">ç™»å½•</button>
</form>
```

**å¸¸è§åœºæ™¯**ï¼š
- è¡¨å•æäº¤ä¸åˆ·æ–°é¡µé¢
- é“¾æ¥ç‚¹å‡»ä¸è·³è½¬
- æ‹–æ‹½æ—¶é˜»æ­¢æµè§ˆå™¨é»˜è®¤è¡Œä¸º

---

### 7. é˜»æ­¢äº‹ä»¶å†’æ³¡ â­

ç‚¹å‡»å†…éƒ¨å…ƒç´ æ—¶ï¼Œäº‹ä»¶ä¼šå‘ä¸Šã€Œå†’æ³¡ã€åˆ°çˆ¶å…ƒç´ ï¼š

```
ç‚¹å‡»æŒ‰é’®
    â†“
button onClick è§¦å‘
    â†“ ï¼ˆäº‹ä»¶å†’æ³¡ï¼‰
div onClick ä¹Ÿè§¦å‘ï¼
```

ç”¨ `stopPropagation()` é˜»æ­¢å†’æ³¡ï¼š

```tsx
<div onClick={() => console.log('å¡ç‰‡')}>
  <button onClick={(e) => {
    e.stopPropagation();  // é˜»æ­¢å†’æ³¡
    console.log('æŒ‰é’®');
  }}>
    åˆ é™¤
  </button>
</div>
```

**ä¸¤ä¸ªæ–¹æ³•å¯¹æ¯”**ï¼š

| æ–¹æ³• | ä½œç”¨ | å¸¸è§åœºæ™¯ |
|------|------|----------|
| `preventDefault()` | é˜»æ­¢**é»˜è®¤è¡Œä¸º** | è¡¨å•ä¸åˆ·æ–°ã€é“¾æ¥ä¸è·³è½¬ |
| `stopPropagation()` | é˜»æ­¢**äº‹ä»¶å†’æ³¡** | ç‚¹å‡»å†…éƒ¨ä¸è§¦å‘å¤–éƒ¨ |

---

### 8. äº‹ä»¶ä¼ å‚ â­

åœ¨åˆ—è¡¨ä¸­éœ€è¦çŸ¥é“ç‚¹å‡»äº†å“ªä¸€é¡¹ï¼Œç”¨ç®­å¤´å‡½æ•°ä¼ å‚ï¼š

```tsx
{items.map(item => (
  <li key={item.id}>
    {item.text}
    <button onClick={() => handleDelete(item.id)}>åˆ é™¤</button>
  </li>
))}
```

**æ¨¡å¼**ï¼š

```tsx
// ä¼ é€’å‚æ•°
onClick={() => handler(å‚æ•°)}

// ä¼ é€’å‚æ•° + äº‹ä»¶å¯¹è±¡
onClick={(event) => handler(å‚æ•°, event)}
```

---

## ğŸ§  æ ¸å¿ƒå¿ƒæ³•

```
1. onClick={å‡½æ•°} ä¼ å¼•ç”¨ï¼ŒonClick={å‡½æ•°()} ç«‹å³æ‰§è¡Œ
2. event.target.value è·å–è¾“å…¥å€¼
3. event.preventDefault() é˜»æ­¢é»˜è®¤è¡Œä¸º
4. event.stopPropagation() é˜»æ­¢äº‹ä»¶å†’æ³¡
5. äº‹ä»¶ä¼ å‚ï¼šonClick={() => handler(å‚æ•°)}
```

---

## âœï¸ ç»ƒä¹ 

å®Œæˆä»¥ä¸‹ç»ƒä¹ å¹¶è¿è¡Œæµ‹è¯•éªŒè¯ï¼š

| ç»ƒä¹  | æ–‡ä»¶ | çŸ¥è¯†ç‚¹ |
|------|------|--------|
| å®æ—¶è¾“å…¥æ˜¾ç¤º | [06-event-handling.tsx](idea://open?file=/Users/linqibin/Desktop/Patra/patra-react-playground/src/exercises/ch02/06-event-handling.tsx&line=41) | event.target.value |
| è¡¨å•æäº¤ | [06-event-handling.tsx](idea://open?file=/Users/linqibin/Desktop/Patra/patra-react-playground/src/exercises/ch02/06-event-handling.tsx&line=80) | preventDefault |
| é˜»æ­¢äº‹ä»¶å†’æ³¡ | [06-event-handling.tsx](idea://open?file=/Users/linqibin/Desktop/Patra/patra-react-playground/src/exercises/ch02/06-event-handling.tsx&line=125) | stopPropagation |
| åˆ—è¡¨é¡¹åˆ é™¤ | [06-event-handling.tsx](idea://open?file=/Users/linqibin/Desktop/Patra/patra-react-playground/src/exercises/ch02/06-event-handling.tsx&line=175) | äº‹ä»¶ä¼ å‚ |
| æœç´¢è¿‡æ»¤åˆ—è¡¨ | [06-event-handling.tsx](idea://open?file=/Users/linqibin/Desktop/Patra/patra-react-playground/src/exercises/ch02/06-event-handling.tsx&line=231) | ç»¼åˆåº”ç”¨ |

```bash
# è¿è¡Œæµ‹è¯•
pnpm test 06-event-handling
```

---

## ğŸ’¡ å­¦ä¹ åæ€

### æŒæ¡è¾ƒå¥½çš„éƒ¨åˆ†
- å‡½æ•°å¼•ç”¨ vs ç«‹å³è°ƒç”¨ç†è§£é€å½»
- preventDefault å’Œ stopPropagation ç”¨æ³•æ¸…æ™°
- äº‹ä»¶ä¼ å‚æ¨¡å¼æŒæ¡ç†Ÿç»ƒ

### éœ€è¦æ³¨æ„çš„éƒ¨åˆ†
- Props å’Œäº‹ä»¶å±æ€§åŒåæ—¶å®¹æ˜“æ··æ·†ï¼ˆå¦‚ `onSubmit` ä½œä¸º props å’Œ `<form onSubmit>`ï¼‰
- å­—ç¬¦ä¸²æ¯”è¾ƒè®°å¾—è½¬å°å†™ï¼š`.toLowerCase()`

### ä¸‹ä¸€æ­¥è®¡åˆ’
- å­¦ä¹ æ¡ä»¶æ¸²æŸ“ï¼Œæ ¹æ®çŠ¶æ€æ˜¾ç¤ºä¸åŒå†…å®¹
- ç»“åˆäº‹ä»¶å’ŒçŠ¶æ€å®ç°æ›´å¤æ‚çš„äº¤äº’

---

## ğŸ”— å¯¼èˆª

- ä¸Šä¸€èŠ‚ï¼š[[05-state-usestate|State çŠ¶æ€ç®¡ç†]]
- ä¸‹ä¸€èŠ‚ï¼š[[07-conditional-rendering|æ¡ä»¶æ¸²æŸ“]]
