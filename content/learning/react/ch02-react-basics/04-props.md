---
title: Props å±æ€§ä¼ é€’
chapter: 02
section: 04
status: å·²å®Œæˆ
progress:
  started_at: 2025-12-05
  completed_at: 2025-12-05
  mastery: ç†Ÿæ‚‰
tags:
  - learning/react/ch02
  - tech/react
  - tech/typescript
---

# Props å±æ€§ä¼ é€’

> Props æ˜¯çˆ¶ç»„ä»¶å‘å­ç»„ä»¶ä¼ é€’æ•°æ®çš„"å®¹å™¨"ï¼Œæ˜¯ React å•å‘æ•°æ®æµçš„æ ¸å¿ƒè½½ä½“ã€‚

---

## ğŸ“‹ å­¦ä¹ ç›®æ ‡

- [x] ç†è§£ Props çš„æœ¬è´¨å’Œä½œç”¨
- [x] æŒæ¡ Props çš„å¤šç§ä¼ é€’ä¸æ¥æ”¶æ–¹å¼
- [x] ç†Ÿç»ƒä½¿ç”¨ TypeScript å®šä¹‰ Props ç±»å‹
- [x] ç†è§£å¯é€‰å±æ€§ä¸é»˜è®¤å€¼çš„å¤„ç†
- [x] æŒæ¡ children ç‰¹æ®Šå±æ€§çš„ä½¿ç”¨
- [x] å†…åŒ– Props åªè¯»æ€§ä¸å•å‘æ•°æ®æµçš„è®¾è®¡ç†å¿µ

---

## ğŸ“– çŸ¥è¯†ç‚¹

### 1. Props çš„æœ¬è´¨

Propsï¼ˆPropertiesï¼‰æ˜¯ç»„ä»¶çš„è¾“å…¥å‚æ•°ï¼Œæœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ª **JavaScript å¯¹è±¡**ã€‚

```tsx
// ä½¿ç”¨ç»„ä»¶æ—¶ä¼ é€’çš„å±æ€§
<Greeting name="React" age={25} />

// ç»„ä»¶æ¥æ”¶åˆ°çš„ props å¯¹è±¡
// props = { name: "React", age: 25 }
```

#### ä¸ Java çš„å¯¹æ¯”

| React | Java |
|-------|------|
| `props` å¯¹è±¡ | POJO / DTO |
| `props.name` | `dto.getName()` |
| `<Greeting name="React" />` | `new Greeting("React")` |

---

### 2. Props çš„ä¼ é€’ä¸æ¥æ”¶

#### 2.1 ä¼ é€’æ–¹å¼

**æ–¹å¼ä¸€ï¼šé€ä¸ªå±æ€§ä¼ é€’**

```tsx
<UserCard name="å¼ ä¸‰" age={25} isAdmin={true} />
```

> ğŸ’¡ å­—ç¬¦ä¸²ç”¨å¼•å·ï¼Œå…¶ä»–ç±»å‹ç”¨èŠ±æ‹¬å· `{}`

**æ–¹å¼äºŒï¼šå±•å¼€è¿ç®—ç¬¦ä¼ é€’**

```tsx
const user = { name: 'å¼ ä¸‰', age: 25, isAdmin: true };
<UserCard {...user} />
```

> [!warning] æ³¨æ„äº‹é¡¹
> å±•å¼€è¿ç®—ç¬¦ä¼šä¼ é€’å¯¹è±¡çš„**æ‰€æœ‰å±æ€§**ï¼ŒåŒ…æ‹¬ä½ å¯èƒ½ä¸æƒ³ä¼ é€’çš„ï¼š
> ```tsx
> const user = { name: 'å¼ ä¸‰', password: '123456' };
> <Profile {...user} />  // password ä¹Ÿä¼ è¿›å»äº†ï¼
> ```
> **å»ºè®®**ï¼šé™¤éå¯¹è±¡ç»“æ„å®Œå…¨åŒ¹é…ï¼Œå¦åˆ™å€¾å‘é€ä¸ªå†™ã€‚

#### 2.2 æ¥æ”¶æ–¹å¼

**æ–¹å¼ä¸€ï¼šç›´æ¥è®¿é—®**

```tsx
function UserCard(props: UserCardProps) {
  return <h2>{props.name}</h2>;
}
```

**æ–¹å¼äºŒï¼šè§£æ„èµ‹å€¼ï¼ˆæ¨è âœ…ï¼‰**

```tsx
function UserCard({ name, age }: UserCardProps) {
  return <h2>{name} - {age}å²</h2>;
}
```

---

### 3. TypeScript ç±»å‹å®šä¹‰

#### 3.1 type vs interface

| ç‰¹æ€§ | type | interface |
|------|------|-----------|
| è”åˆç±»å‹ | âœ… æ”¯æŒ | âŒ ä¸æ”¯æŒ |
| å£°æ˜åˆå¹¶ | âŒ åŒåæŠ¥é”™ | âœ… è‡ªåŠ¨åˆå¹¶ |
| **æ¨èåœºæ™¯** | Props å®šä¹‰ | éœ€è¦æ‰©å±•çš„å¥‘çº¦ |

**ä¸ºä»€ä¹ˆ Props æ¨èç”¨ typeï¼Ÿ**

1. Props æ˜¯ã€Œæ•°æ®ç»“æ„ã€ï¼Œä¸æ˜¯ã€Œèƒ½åŠ›å¥‘çº¦ã€
2. Props ä¸éœ€è¦åˆå¹¶ â€”â€” ä¸€ä¸ªç»„ä»¶çš„ Props åº”è¯¥åœ¨ä¸€ä¸ªåœ°æ–¹å®šä¹‰æ¸…æ¥š
3. type æ›´çµæ´» â€”â€” æ”¯æŒè”åˆç±»å‹ï¼Œè¿™åœ¨ Props ä¸­å¾ˆå¸¸è§

```tsx
type ButtonProps = {
  variant: 'primary' | 'secondary' | 'danger';  // è”åˆç±»å‹
  size?: 'sm' | 'md' | 'lg';
};
```

#### 3.2 å¯é€‰å±æ€§ä¸é»˜è®¤å€¼

```tsx
type AvatarProps = {
  src: string;          // å¿…å¡«
  size?: number;        // å¯é€‰
  alt?: string;         // å¯é€‰
};

function Avatar({ src, size = 64, alt = 'avatar' }: AvatarProps) {
  return <img src={src} width={size} height={size} alt={alt} />;
}
```

---

### 4. children ç‰¹æ®Šå±æ€§

`children` æ˜¯ç»„ä»¶æ ‡ç­¾ä¹‹é—´çš„å†…å®¹ï¼Œæ˜¯ä¸€ä¸ªç‰¹æ®Šçš„ Propsã€‚

```tsx
// è¿™ä¸¤ç§å†™æ³•ç­‰ä»·
<Card>
  <h2>æ ‡é¢˜</h2>
</Card>

<Card children={<h2>æ ‡é¢˜</h2>} />
```

#### ç±»å‹å®šä¹‰

```tsx
type CardProps = {
  title: string;
  children: React.ReactNode;  // æœ€é€šç”¨çš„ç±»å‹
};

function Card({ title, children }: CardProps) {
  return (
    <div className="card">
      <h2>{title}</h2>
      <div className="card-body">{children}</div>
    </div>
  );
}
```

#### ä¸è®¾è®¡æ¨¡å¼çš„å…³è”

| æ¨¡å¼ | æ ¸å¿ƒæ„å›¾ | React åœºæ™¯ |
|------|----------|------------|
| **ç»„åˆæ¨¡å¼** | ç»Ÿä¸€å¤„ç†å®¹å™¨å’Œå†…å®¹ | `<Card>` å¸ƒå±€å®¹å™¨ |
| **è£…é¥°è€…æ¨¡å¼** | åŠ¨æ€å¢å¼ºè¡Œä¸º | `<ThemeProvider>` èƒ½åŠ›æ³¨å…¥ |

---

### 5. Props çš„ä¸å¯å˜æ€§

> [!danger] æ ¸å¿ƒåŸåˆ™
> **Props æ˜¯åªè¯»çš„ï¼Œæ°¸è¿œä¸è¦ä¿®æ”¹å®ƒï¼**

```tsx
// âŒ é”™è¯¯
function Greeting({ name }: { name: string }) {
  name = 'World';  // TypeScript ä¼šæŠ¥é”™ï¼
  return <h1>{name}</h1>;
}

// âœ… æ­£ç¡®ï¼šåˆ›å»ºæ–°å˜é‡
function Greeting({ name }: { name: string }) {
  const displayName = name || 'Guest';
  return <h1>{displayName}</h1>;
}
```

#### ä¸ºä»€ä¹ˆè®¾è®¡æˆåªè¯»ï¼Ÿ

1. **å¯é¢„æµ‹æ€§**ï¼šæ•°æ®æµå‘æ˜ç¡®ï¼ˆçˆ¶ â†’ å­ï¼‰
2. **è°ƒè¯•å‹å¥½**ï¼šè¿½è¸ªæ•°æ®å˜åŒ–å®¹æ˜“
3. **æ€§èƒ½ä¼˜åŒ–**ï¼šReact å¯ä»¥å®‰å…¨åœ°åšæµ…æ¯”è¾ƒ

---

### 6. å…³é”®ç†è§£ï¼šä»€ä¹ˆä¼šè§¦å‘ UI æ›´æ–°ï¼Ÿ

> [!tip] é‡è¦çªç ´
> React ä¸æ˜¯"ç›‘å¬æ‰€æœ‰å˜é‡å˜åŒ–"ï¼Œè€Œæ˜¯åªå¯¹ç‰¹å®šçš„çŠ¶æ€å˜åŒ–åšå‡ºå“åº”ã€‚

```
æ™®é€šå˜é‡æ”¹å˜ â†’ React ä¸çŸ¥é“ â†’ UI ä¸æ›´æ–°
State æ”¹å˜   â†’ React æ”¶åˆ°é€šçŸ¥ â†’ é‡æ–°æ¸²æŸ“ â†’ UI æ›´æ–°
```

**ä¸‰ç§æ•°æ®ç±»å‹å¯¹æ¯”**ï¼š

| æ•°æ®ç±»å‹ | ç”¨é€” | æ”¹å˜æ—¶ UI æ›´æ–°ï¼Ÿ |
|----------|------|------------------|
| **Props** | æ¥æ”¶å¤–éƒ¨æ•°æ® | çˆ¶ç»„ä»¶é‡æ–°ä¼ å…¥æ—¶æ›´æ–° |
| **State** | ç»„ä»¶å†…éƒ¨å¯å˜æ•°æ® | âœ… è°ƒç”¨ setter æ—¶æ›´æ–° |
| **æ™®é€šå˜é‡** | ä¸´æ—¶è®¡ç®— | âŒ æ°¸ä¸æ›´æ–° |

```tsx
// âŒ è¿™æ ·å†™ UI ä¸ä¼šæ›´æ–°
function Counter({ initialCount }: { initialCount: number }) {
  let count = initialCount;  // æ™®é€šå˜é‡

  const handleClick = () => {
    count = count + 1;        // å˜é‡æ”¹äº†
    console.log(count);       // console èƒ½çœ‹åˆ°
  };

  return <p>{count}</p>;      // ä½†é¡µé¢ä¸ä¼šæ›´æ–°ï¼
}
```

> è¿™å°±æ˜¯ä¸ºä»€ä¹ˆéœ€è¦ Stateï¼ˆä¸‹ä¸€èŠ‚å­¦ä¹ ï¼‰ã€‚

---

## âœï¸ ç»ƒä¹ 

å®Œæˆç»ƒä¹ å¹¶è¿è¡Œæµ‹è¯•éªŒè¯ï¼š

| ç»ƒä¹ æ–‡ä»¶ | éªŒè¯å‘½ä»¤ |
|----------|----------|
| [03-props.tsx](idea://open?file=/Users/linqibin/Desktop/Patra/patra-react-playground/src/exercises/ch02/03-props.tsx) | `pnpm test 03-props` |

**ç»ƒä¹ å†…å®¹**ï¼š

| # | ä¸»é¢˜ | æ ¸å¿ƒè€ƒç‚¹ |
|---|------|----------|
| 1 | Greeting é—®å€™ç»„ä»¶ | åŸºç¡€ Props ä¼ é€’ |
| 2 | Avatar å¤´åƒç»„ä»¶ | è§£æ„ + é»˜è®¤å€¼ |
| 3 | UserInfo ç”¨æˆ·ä¿¡æ¯ | å±•å¼€è¿ç®—ç¬¦ |
| 4 | Card å¡ç‰‡ç»„ä»¶ | children ä½¿ç”¨ |
| 5 | Badge å¾½ç« ç»„ä»¶ | æ¡ä»¶æ¸²æŸ“ + é»˜è®¤å€¼ |
| 6 | Button æŒ‰é’®ç»„ä»¶ | ç»¼åˆè¿ç”¨ |

**ç»ƒä¹ ç»“æœ**ï¼šâœ… 32 ä¸ªæµ‹è¯•å…¨éƒ¨é€šè¿‡

---

## ğŸ§  æœ¬èŠ‚è¦ç‚¹

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        Props æ ¸å¿ƒæ¦‚å¿µ                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  1. Props æ˜¯å¯¹è±¡    â†’  { name: "...", age: 25 }             â”‚
â”‚  2. å•å‘æ•°æ®æµ      â†’  çˆ¶ â†’ å­ï¼Œå­ä¸èƒ½ä¿®æ”¹                    â”‚
â”‚  3. ç±»å‹ç”¨ type     â†’  type XxxProps = { ... }              â”‚
â”‚  4. è§£æ„ + é»˜è®¤å€¼   â†’  { name, size = 64 }: Props           â”‚
â”‚  5. children ç‰¹æ®Š   â†’  æ ‡ç­¾ä¹‹é—´çš„å†…å®¹ï¼Œç±»å‹ ReactNode         â”‚
â”‚  6. Props åªè¯»      â†’  ä¸èƒ½ä¿®æ”¹ï¼Œéœ€è¦å˜åŒ–ç”¨ State            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”— å¯¼èˆª

- ä¸Šä¸€èŠ‚ï¼š[[03-function-components|å‡½æ•°ç»„ä»¶]]
- ä¸‹ä¸€èŠ‚ï¼š[[05-state-usestate|State çŠ¶æ€ç®¡ç†]]

---

## ğŸ“š å»¶ä¼¸é˜…è¯»

- [React å®˜æ–¹æ–‡æ¡£ - Props](https://zh-hans.react.dev/learn/passing-props-to-a-component)
- [React TypeScript Cheatsheet - Props](https://react-typescript-cheatsheet.netlify.app/docs/basic/getting-started/basic_type_example)
