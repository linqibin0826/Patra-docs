---
title: å¤ä¹ ç¬”è®°ï¼šReact åŸºç¡€å››è¦ç´ 
chapter: 02
section: review-01
type: review
date: 2025-12-05
tags:
  - learning/react/ch02
  - tech/react
  - review
covers:
  - "[[01-what-is-react|React æ˜¯ä»€ä¹ˆ]]"
  - "[[02-jsx-syntax|JSX è¯­æ³•]]"
  - "[[03-function-components|å‡½æ•°ç»„ä»¶]]"
  - "[[04-props|Props å±æ€§ä¼ é€’]]"
---

# å¤ä¹ ç¬”è®°ï¼šReact åŸºç¡€å››è¦ç´ 

> æœ¬ç¬”è®°æ•´ç†ç¬¬äºŒç«  01-04 èŠ‚çš„æ ¸å¿ƒçŸ¥è¯†ç‚¹ï¼Œé€‚åˆå¿«é€Ÿå¤ä¹ å’ŒæŸ¥é˜…ã€‚

---

## ğŸ¯ æ ¸å¿ƒå…¬å¼ï¼ˆå¿…èƒŒï¼‰

```
UI = f(state)
```

- **state**ï¼šæ•°æ®çŠ¶æ€
- **f**ï¼šç»„ä»¶å‡½æ•°ï¼ˆæè¿° UI é•¿ä»€ä¹ˆæ ·ï¼‰
- **UI**ï¼šç”¨æˆ·ç•Œé¢

**ä½ åªéœ€è¦ç»´æŠ¤ stateï¼ŒReact è‡ªåŠ¨å¸®ä½ ç®—å‡º UIã€‚**

---

## ğŸ“– å››å¤§æ ¸å¿ƒæ¦‚å¿µé€ŸæŸ¥

### 1. å£°æ˜å¼ vs å‘½ä»¤å¼

| å‘½ä»¤å¼ï¼ˆåŸç”Ÿ JSï¼‰ | å£°æ˜å¼ï¼ˆReactï¼‰ |
|------------------|-----------------|
| è·å– DOM èŠ‚ç‚¹ | ä¸éœ€è¦ |
| æ‰‹åŠ¨ç»‘å®šäº‹ä»¶ | JSX ä¸­å£°æ˜ `onClick` |
| æ‰‹åŠ¨æ›´æ–° DOM | React è‡ªåŠ¨å¤„ç† |

**ç±»æ¯”**ï¼šå‘½ä»¤å¼åƒå†™èœè°±ï¼ˆåˆ‡èœâ†’çƒ­æ²¹â†’ä¸‹é”…ï¼‰ï¼Œå£°æ˜å¼åƒç‚¹å¤–å–ï¼ˆæˆ‘è¦å®«ä¿é¸¡ä¸ï¼‰ã€‚

### 2. ç»„ä»¶åŒ–

ç»„ä»¶ = **å°è£… UI + é€»è¾‘çš„ç‹¬ç«‹å•å…ƒ**

```
ç»„ä»¶ = å‡½æ•°
è¾“å…¥ï¼špropsï¼ˆæ•°æ®ï¼‰â†’ è¾“å‡ºï¼šJSXï¼ˆUIï¼‰
```

### 3. å•å‘æ•°æ®æµ

æ•°æ®åªèƒ½ä»**çˆ¶ç»„ä»¶æµå‘å­ç»„ä»¶**ï¼Œé€šè¿‡ Props ä¼ é€’ã€‚

å¥½å¤„ï¼š
- å¯é¢„æµ‹æ€§ â€”â€” æ•°æ®å˜åŒ–è·¯å¾„æ¸…æ™°
- æ˜“äºè°ƒè¯• â€”â€” å‡ºé—®é¢˜å¾€ä¸Šæ‰¾
- ç»„ä»¶ç‹¬ç«‹ â€”â€” å­ç»„ä»¶ä¸ä¼šæ„å¤–å½±å“çˆ¶ç»„ä»¶

### 4. è™šæ‹Ÿ DOM

```mermaid
flowchart LR
    A[çŠ¶æ€å˜åŒ–] --> B[ç”Ÿæˆæ–°è™šæ‹Ÿ DOM]
    B --> C[Diff å¯¹æ¯”]
    C --> D[æœ€å°åŒ–æ›´æ–°çœŸå® DOM]
```

**ç±»æ¯”**ï¼šå°±åƒ Git çš„ diffï¼Œä¸å¤åˆ¶æ•´ä¸ªæ–‡ä»¶ï¼Œåªè®°å½•å˜åŒ–çš„è¡Œã€‚

---

## ğŸ”§ JSX è¯­æ³•é€ŸæŸ¥

### JSX æœ¬è´¨

```jsx
// ä½ å†™çš„ JSX
<div className="box">Hello</div>

// ç¼–è¯‘å
React.createElement('div', { className: 'box' }, 'Hello')
```

**ç†è§£äº†è¿™ä¸ªï¼Œå¾ˆå¤šè§„åˆ™å°±ä¸ç”¨æ­»è®°ï¼š**
- ä¸ºä»€ä¹ˆç”¨ `className`ï¼Ÿâ†’ `class` æ˜¯ JS ä¿ç•™å­—
- ä¸ºä»€ä¹ˆ `style` è¦å¯¹è±¡ï¼Ÿâ†’ JSX å±æ€§å€¼å°±æ˜¯ JS å€¼
- ä¸ºä»€ä¹ˆç”¨ `{}`ï¼Ÿâ†’ é‚£æ˜¯ JS è¡¨è¾¾å¼çš„å…¥å£

### `{}` çš„ä¸‰ç§ç”¨æ³• â­

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    JSX å±æ€§å€¼è§„åˆ™                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚  å­—ç¬¦ä¸²ï¼Ÿ â”€â”€â”€â”€â”€â”€â†’ ç›´æ¥ç”¨å¼•å·                                 â”‚
â”‚                   className="box"                           â”‚
â”‚                                                             â”‚
â”‚  JS å˜é‡/æ•°å­—ï¼Ÿ â”€â”€â†’ ç”¨ {}                                   â”‚
â”‚                   id={myId}                                 â”‚
â”‚                   tabIndex={1}                              â”‚
â”‚                                                             â”‚
â”‚  å¯¹è±¡å€¼ï¼Ÿ â”€â”€â”€â”€â”€â”€â”€â”€â†’ {} é‡Œé¢å†æ”¾ {}                           â”‚
â”‚                   style={{ color: 'red' }}                  â”‚
â”‚                         â†‘      â†‘                            â”‚
â”‚                  JSX å…¥å£   å¯¹è±¡å­—é¢é‡                        â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**é€Ÿè®°**ï¼š
- å­—ç¬¦ä¸² â†’ `"value"`
- å˜é‡/æ•°å­— â†’ `{value}`
- å¯¹è±¡ â†’ `{{ key: value }}`

### è¡¨è¾¾å¼ vs è¯­å¥

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   {} é‡Œåªèƒ½æ”¾è¡¨è¾¾å¼ï¼                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚  âœ… è¡¨è¾¾å¼ï¼ˆèƒ½äº§ç”Ÿå€¼ï¼‰          âŒ è¯­å¥ï¼ˆæ‰§è¡ŒåŠ¨ä½œï¼‰            â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€        â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€        â”‚
â”‚  â€¢ 1 + 1                      â€¢ if (...) { }               â”‚
â”‚  â€¢ user.name                  â€¢ for (...) { }              â”‚
â”‚  â€¢ isAdmin ? 'yes' : 'no'     â€¢ while (...) { }            â”‚
â”‚  â€¢ getData()                  â€¢ switch (...) { }           â”‚
â”‚  â€¢ arr.map(...)               â€¢ const x = ...              â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### HTML â†’ JSX å±æ€§è½¬æ¢

| HTML | JSX | åŸå›  |
|------|-----|------|
| `class` | `className` | JS ä¿ç•™å­— |
| `for` | `htmlFor` | JS ä¿ç•™å­— |
| `tabindex` | `tabIndex` | é©¼å³°å‘½å |
| `onclick` | `onClick` | é©¼å³°å‘½å |

### style å¯¹è±¡å†™æ³•

```jsx
// âŒ é”™è¯¯ï¼šå­—ç¬¦ä¸²
<div style="color: red">

// âœ… æ­£ç¡®ï¼šå¯¹è±¡ï¼Œå±æ€§åé©¼å³°
<div style={{ color: 'red', fontSize: 16 }}>
```

---

## ğŸ§© å‡½æ•°ç»„ä»¶é€ŸæŸ¥

### åŸºæœ¬è¯­æ³•

```tsx
// æ¨èï¼šfunction å£°æ˜
function Greeting() {
  return <h1>Hello!</h1>;
}

// ä¹Ÿå¯ä»¥ï¼šç®­å¤´å‡½æ•°
const Greeting = () => <h1>Hello!</h1>;
```

### å‘½åè§„èŒƒï¼ˆå¿…é¡»éµå®ˆï¼ï¼‰

```tsx
// âœ… æ­£ç¡®ï¼šPascalCase
function UserCard() { ... }

// âŒ é”™è¯¯ï¼šå°å†™å¼€å¤´
function userCard() { ... }  // ä¼šè¢«å½“æˆ HTML æ ‡ç­¾ï¼
```

**åŸç†**ï¼š
```tsx
<Greeting />  â†’  React.createElement(Greeting, null)  // å¤§å†™ï¼šç»„ä»¶
<greeting />  â†’  React.createElement('greeting', null) // å°å†™ï¼šæ ‡ç­¾
```

### ç»„ä»¶ç»„åˆ

```tsx
function Header() {
  return (
    <header>
      <Logo />      {/* ç»„ä»¶åµŒå¥— */}
      <NavMenu />
    </header>
  );
}
```

### æ˜“é”™ç‚¹ï¼šJSX vs æ¨¡æ¿å­—ç¬¦ä¸²

```tsx
// âŒ é”™è¯¯ï¼šæ··ç”¨æ¨¡æ¿å­—ç¬¦ä¸²è¯­æ³•
<p>Â¥${price}</p>  // æ˜¾ç¤ºï¼šÂ¥$299

// âœ… æ­£ç¡®ï¼šJSX ç›´æ¥ç”¨ {}
<p>Â¥{price}</p>   // æ˜¾ç¤ºï¼šÂ¥299
```

---

## ğŸ“¦ Props é€ŸæŸ¥

### Props æœ¬è´¨

Props æ˜¯ç»„ä»¶çš„è¾“å…¥å‚æ•°ï¼Œæœ¬è´¨æ˜¯ä¸€ä¸ª **JavaScript å¯¹è±¡**ã€‚

```tsx
<Greeting name="React" age={25} />
// props = { name: "React", age: 25 }
```

### ä¼ é€’æ–¹å¼

```tsx
// æ–¹å¼ 1ï¼šé€ä¸ªä¼ é€’
<UserCard name="å¼ ä¸‰" age={25} />

// æ–¹å¼ 2ï¼šå±•å¼€è¿ç®—ç¬¦
const user = { name: 'å¼ ä¸‰', age: 25 };
<UserCard {...user} />
```

### æ¥æ”¶æ–¹å¼ï¼ˆæ¨èè§£æ„ï¼‰

```tsx
// âœ… æ¨èï¼šè§£æ„ + é»˜è®¤å€¼
function Avatar({ src, size = 64 }: AvatarProps) {
  return <img src={src} width={size} />;
}
```

### TypeScript ç±»å‹å®šä¹‰

```tsx
// æ¨èç”¨ typeï¼ˆä¸æ˜¯ interfaceï¼‰
type ButtonProps = {
  text: string;
  size?: 'sm' | 'md' | 'lg';  // å¯é€‰ + è”åˆç±»å‹
  disabled?: boolean;
};
```

### children ç‰¹æ®Šå±æ€§ â­

```tsx
type CardProps = {
  title: string;
  children: React.ReactNode;  // æœ€é€šç”¨çš„ç±»å‹
};

function Card({ title, children }: CardProps) {
  return (
    <div>
      <h2>{title}</h2>
      <div>{children}</div>  {/* ç›´æ¥æ¸²æŸ“ */}
    </div>
  );
}

// ä½¿ç”¨
<Card title="å…¬å‘Š">
  <p>è¿™å°±æ˜¯ children</p>
</Card>
```

### Props åªè¯»æ€§ï¼ˆé‡è¦ï¼ï¼‰

```tsx
// âŒ é”™è¯¯ï¼šä¸èƒ½ä¿®æ”¹ props
function Greeting({ name }: { name: string }) {
  name = 'World';  // TypeScript ä¼šæŠ¥é”™ï¼
}

// âœ… æ­£ç¡®ï¼šåˆ›å»ºæ–°å˜é‡
function Greeting({ name }: { name: string }) {
  const displayName = name || 'Guest';
}
```

---

## âš¡ æ¡ä»¶æ¸²æŸ“ï¼š`&&` è¿ç®—ç¬¦ â­

### è¿”å›å€¼è§„åˆ™

```
å·¦è¾¹ä¸º truthy  â†’  è¿”å›ã€å³è¾¹çš„å€¼ã€‘
å·¦è¾¹ä¸º falsy   â†’  è¿”å›ã€å·¦è¾¹çš„å€¼ã€‘
```

```tsx
85 && 'æœ‰æˆç»©'   // â†’ 'æœ‰æˆç»©'ï¼ˆä¸æ˜¯ trueï¼ï¼‰
false && 'ä¼˜ç§€'  // â†’ false
0 && 'æ˜¾ç¤º'      // â†’ 0ï¼ˆä¼šæ¸²æŸ“æˆ "0"ï¼ï¼‰
```

### React æ¸²æŸ“è§„åˆ™

- `false`ã€`null`ã€`undefined` â†’ **ä¸æ¸²æŸ“**
- `0` â†’ **ä¼šæ¸²æŸ“æˆ "0"**ï¼ˆå¸¸è§å‘ï¼ï¼‰

```tsx
// âœ… æ­£ç¡®ç”¨æ³•
{isHot && <span>[çƒ­å–]</span>}

// âš ï¸ å°å¿ƒï¼šcount ä¸º 0 æ—¶ä¼šæ˜¾ç¤º "0"
{count && <span>{count}æ¡æ¶ˆæ¯</span>}

// âœ… å®‰å…¨å†™æ³•
{count > 0 && <span>{count}æ¡æ¶ˆæ¯</span>}
```

---

## ğŸ­ é»˜è®¤å€¼ä¸ undefined/null

```tsx
function Button({ size = 'md' }: { size?: string }) {
  // ...
}

<Button />                  // size = 'md' âœ… é»˜è®¤å€¼ç”Ÿæ•ˆ
<Button size="lg" />        // size = 'lg' âœ… ä½¿ç”¨ä¼ å…¥å€¼
<Button size={undefined} /> // size = 'md' âœ… é»˜è®¤å€¼ç”Ÿæ•ˆï¼
<Button size={null} />      // size = null âŒ é»˜è®¤å€¼ä¸ç”Ÿæ•ˆï¼
```

**è®°ä½**ï¼š`undefined` è§¦å‘é»˜è®¤å€¼ï¼Œ`null` ä¸è§¦å‘ã€‚

---

## ğŸ”„ æ•°æ®ç±»å‹ä¸ UI æ›´æ–°

| æ•°æ®ç±»å‹ | ç”¨é€” | æ”¹å˜æ—¶ UI æ›´æ–°ï¼Ÿ |
|----------|------|------------------|
| **Props** | æ¥æ”¶å¤–éƒ¨æ•°æ® | çˆ¶ç»„ä»¶é‡æ–°ä¼ å…¥æ—¶æ›´æ–° |
| **State** | ç»„ä»¶å†…éƒ¨å¯å˜æ•°æ® | âœ… è°ƒç”¨ setter æ—¶æ›´æ–° |
| **æ™®é€šå˜é‡** | ä¸´æ—¶è®¡ç®— | âŒ æ°¸ä¸æ›´æ–° |

---

## ğŸ“ å¿«é€Ÿæ£€æŸ¥æ¸…å•

å†™ç»„ä»¶æ—¶å¯¹ç…§æ£€æŸ¥ï¼š

- [ ] ç»„ä»¶åæ˜¯å¦ PascalCaseï¼Ÿ
- [ ] Props ç±»å‹æ˜¯å¦ç”¨ `type` å®šä¹‰ï¼Ÿ
- [ ] å¯é€‰å±æ€§æ˜¯å¦æœ‰é»˜è®¤å€¼ï¼Ÿ
- [ ] style æ˜¯å¦ç”¨å¯¹è±¡è¯­æ³• `{{}}`ï¼Ÿ
- [ ] className è€Œä¸æ˜¯ classï¼Ÿ
- [ ] æ¡ä»¶æ¸²æŸ“æ˜¯å¦è€ƒè™‘äº† 0 çš„æƒ…å†µï¼Ÿ
- [ ] children ç±»å‹æ˜¯å¦æ˜¯ `React.ReactNode`ï¼Ÿ

---

## ğŸ”— ç›¸å…³ç»ƒä¹ 

| ç»ƒä¹  | æ–‡ä»¶ | è€ƒæ ¸ç‚¹ |
|------|------|--------|
| JSX è¯­æ³• | [01-jsx-syntax.tsx](idea://open?file=/Users/linqibin/Desktop/Patra/patra-react-playground/src/exercises/ch02/01-jsx-syntax.tsx) | è¡¨è¾¾å¼æ’å€¼ã€å±æ€§è½¬æ¢ã€style |
| å‡½æ•°ç»„ä»¶ | [02-function-components.tsx](idea://open?file=/Users/linqibin/Desktop/Patra/patra-react-playground/src/exercises/ch02/02-function-components.tsx) | ç»„ä»¶å®šä¹‰ã€ç»„åˆã€å¤ç”¨ |
| Props | [03-props.tsx](idea://open?file=/Users/linqibin/Desktop/Patra/patra-react-playground/src/exercises/ch02/03-props.tsx) | ä¼ é€’ã€è§£æ„ã€children |
| ç»¼åˆå¤ä¹  | [review-01.tsx](idea://open?file=/Users/linqibin/Desktop/Patra/patra-react-playground/src/exercises/ch02/review-01.tsx) | å…¨éƒ¨çŸ¥è¯†ç‚¹ |

---

## ğŸ”— å¯¼èˆª

- ä¸‹ä¸€èŠ‚ï¼š[[05-state-usestate|State çŠ¶æ€ç®¡ç†]]
- è¿”å›ç›®å½•ï¼š[[_MOC|å­¦ä¹ è¿›åº¦æ€»è§ˆ]]
