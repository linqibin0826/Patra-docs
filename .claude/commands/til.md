---
description: 记录每日学习总结（Today I Learned）
argument-hint: [日期 | 主题 | 学习说明 | 空]
---

## 参数说明

**用户传入的参数**: `$ARGUMENTS`

**参数解析规则**：

| 参数值 | 行为 | 示例 |
|--------|------|------|
| 空 | 总结今天所有 learning 下的学习内容 | `/til` |
| 日期相关 | 总结指定日期的学习内容 | `/til 昨天`、`/til 2025-12-01` |
| 主题名 | 只总结指定主题的学习内容 | `/til react`、`/til observability` |
| 学习说明 | 根据用户描述生成总结 | `/til 今天学了箭头函数和解构` |

---

## 信息来源

**唯一数据源**：`content/learning/` 目录下的笔记文件

通过读取笔记的 YAML frontmatter 中的 `progress` 字段来确定学习日期：

```yaml
progress:
  started_at: 2025-12-02      # 开始学习日期
  completed_at: 2025-12-02    # 完成学习日期
  mastery: 熟悉               # 掌握程度
```

**匹配规则**：
- 匹配 `progress.started_at` 或 `progress.completed_at` 等于目标日期的笔记
- 如果参数为空，目标日期 = 今天
- 如果参数包含日期信息（如「昨天」「2025-12-01」），解析为对应日期

---

## 执行流程

### 1. 解析参数确定目标日期

| 参数 | 目标日期 |
|------|----------|
| 空 | 今天 |
| `昨天` | 今天 - 1 天 |
| `前天` | 今天 - 2 天 |
| `YYYY-MM-DD` | 指定日期 |

### 2. 扫描学习笔记

使用 Grep 工具搜索 `content/learning/` 目录下所有 `.md` 文件，查找包含目标日期的 `started_at` 或 `completed_at` 字段。

**搜索示例**：
```
Grep pattern: "(started_at|completed_at): 2025-12-02"
path: content/learning/
```

### 3. 读取匹配的笔记

对于每个匹配的文件：
1. 读取完整内容
2. 提取 YAML frontmatter 中的元数据（title、chapter、section、tags）
3. 理解笔记的核心内容和要点

### 4. 生成 TIL 文件

基于阅读的笔记内容，撰写学习总结：
- 概括今日学习主题
- 提炼核心收获（不是简单复制，而是归纳总结）
- 链接到详细学习材料

---

## 需要收集的信息

| 字段 | 来源 | 必需 |
|------|------|------|
| 日期 | 参数解析或今天 | ✅（自动） |
| 学习主题 | 从匹配笔记的 title/章节提取 | ✅ |
| 核心收获 | 阅读笔记内容后提炼 | ✅ |
| 关联的 Learning 文件 | 匹配到的笔记路径 | ✅ |
| 标签 | 从笔记的 tags 字段汇总 | ✅ |

---

## 文件路径

`content/til/{YYYY}/{MM}/{YYYY-MM-DD}-{slug}.md`

**目录结构示例**：
```
content/til/
├── _MOC.md           # 总索引（Dataview 自动生成）
├── 2025/
│   ├── 11/
│   │   ├── 2025-11-28-spring-batch-fundamentals.md
│   │   └── 2025-11-29-observability-complete.md
│   └── 12/
│       └── 2025-12-02-javascript-modern-es6.md
└── ...
```

---

## TIL 内容模板

```markdown
---
type: til
date: {YYYY-MM-DD}
topics: [{主题列表}]
learning_series: {主要学习系列}
chapters_completed: [{章节编号}]
tags:
  - record/til
  - tech/{相关技术标签}
---

# 今日学习：{标题}

## 学习概要

{1-2 段简要描述今天学了什么，基于阅读笔记内容的理解}

## 核心收获

### 1. {要点一}
- {关键点}
- {关键点}

### 2. {要点二}
- {关键点}

## 详细学习材料

- [[learning/{topic}/{chapter}|{章节标题}]]
- ...

## 后续计划

- [ ] {下一步学习计划}
```

---

## 输出格式

```
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
📝 每日学习总结已创建
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

📁 文件：content/til/2025/12/2025-12-02-javascript-modern-es6.md
📅 日期：2025-12-02
🏷️ 标签：#react #javascript

📄 学习内容：
├── ✅ 箭头函数
├── ✅ 解构赋值
├── ✅ 展开运算符
└── 📎 关联 3 个详细学习材料

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
```

---

## 注意事项

1. **深度阅读**：不要只看标题，要读取笔记内容后提炼核心要点
2. **自动填充字段**：日期、编号等可自动推断的字段不要询问
3. **双向链接**：使用 `[[]]` Wikilink 语法创建关联
4. **目录创建**：如果年/月目录不存在，自动创建
5. **无匹配处理**：如果指定日期没有找到任何笔记，提示用户并询问是否要手动描述学习内容
